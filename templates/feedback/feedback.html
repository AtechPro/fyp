<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback Management</title>
    <link rel="stylesheet" href="/static/feedback/feedback.css">
</head>
<body>
    <nav class="sidebar">
        {% include 'navigation/nav.html' %}
    </nav>

    <header class="main-title">
        <h1>Feedback Management</h1>
    </header>


    <main class="content-container">
        <section class="feedback-form-container">
            <!-- Only render the form if the user is not an admin -->
            {% if current_user.role != 1 %}
                <h1>Submit Your Feedback</h1>
                <form id="feedback-form">
                    <div class="form-group">
                        <label for="feedback_title">Feedback Title:</label>
                        <textarea id="feedback_title" name="feedback_title" rows="2" placeholder="Enter feedback title" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="feedback_desc">Your Feedback:</label>
                        <textarea id="feedback_desc" name="feedback_desc" rows="6" placeholder="Write your feedback here" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            {% endif %}
        </section>

        <section id="feedback-list">
            <h2>Feedback List</h2>
            <ul id="feedback-items">
                <!-- Placeholder when no feedback exists -->
                <li id="no-feedback">No feedback available yet. Submit the first one!</li>
            </ul>
        </section>
    </main>

    <script>
        const currentUserRole = "{{ current_user.role | tojson | safe }}";
    </script>
    <script src="/static/feedback/feedback.js"></script>
</body>
</html>
